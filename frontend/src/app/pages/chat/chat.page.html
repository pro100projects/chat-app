<div class="app-container">
  <div class="chat-container">
    <h2>Chat</h2>
    <div class="messages">
      <p *ngFor="let message of messages"
         [ngClass]="{'my-message': message.user.id === currentUser?.id, 'other-message': message.user.id !== currentUser?.id}">
        {{ message.user.name }} {{ message.user.surname }}
        <br> {{ message.message }}
        <br> <small>{{ message.createdAt | date: 'HH:mm dd/MM/yyyy' }}</small>
      </p>
    </div>
    <p>
      <i *ngIf="getTypingUsernames().length > 0">{{ formatTypingUsers() }}</i>
      <br *ngIf="getTypingUsernames().length == 0">
    </p>
    <form (ngSubmit)="sendMessage()">
      <input
        type="text"
        [(ngModel)]="newMessage"
        (input)="onTyping()"
        placeholder="Type your message"
        name="message"
      />
      <button type="submit">Send</button>
    </form>
  </div>
</div>
